<h1>Микросервисы. Патерны. Описание</h1>

Модель масштабирования приложения:

<img src="imgs/coub.png" alt="coub"></img>

<img src="imgs/coub_x.png" alt="coub"></img>

<img src="imgs/coub_z.png" alt="coub"></img>

<img src="imgs/coub_y.png" alt="coub"></img>


Преимущества монолитной архитектуры на ранних этапах:

<ul>
    <li>Простота разработки</li>
    <li>Лёгкость внесения радикальных изменений</li>
    <li>Простота тестирования</li>
    <li>Простота развёртывания</li>
    <li>Лёгкость масштабирования</li>
</ul>

Сложности возникающее с ростом приложения:


<ul>
    <li>Сложность разработки/li>
    <li>Медленная разработка</li>
    <li>Длинный и тяжёлый путь от сохранения изменений до их развёртывания</li>
    <li>Трудности с масштабированием</li>
    <li>Сложность добиться надёжности</li>
    <li>Зависимость от постепенно устаревающего стека технологий</li>
</ul>

<b>В микросервисной архитектуре единицей модульности является сервис.</b>

<b>У каждого сервиса есть своя база данных.</b>

SOA - service-oriented architecture

```
| Параметр            | SOA                        | Микросервисы             |
| ------------------- |:--------------------------:| ------------------------:|
| Межсерверное  вз-ие |Умные каналы, такие как     |Примитивные каналы, такие |
|                     |сервисная шина предприятия, |как брокер сообщений, или |
|                     |c использованием            |прямое взаимодействие     |
|                     |тяжёловестных протоколов    |между сервисами с помощью |
|                     |вроде SOAP и других         |легковесных протоколов    |
|                     |веб-сервисных стандартов    |наподобие REST или gRPC   |
| ------------------- |:--------------------------:| ------------------------:|
| Данные              |Глобальная модель данных    |Отдельная модель данных   |
|                     |и общие ДБ                  |и БД для каждого сервиса  |
| ------------------- |:--------------------------:| ------------------------:|
| Типовой сервис      |Крупное монолитное          |Небольшой сервис          |
|                     |приложение                  |                          |
```

Достоинства микросервисной архитектуры:

<ul>
    <li>Она делает возможным непрерывные доставку и развёртывание крупных, сложных приложений </li>
    <li>Сервисы получаются небольшимим и простыми в обслуживании</li>
    <li>Сервисы развёртываются независимо друг от друга</li>
    <li>Сервисы масштабируются независимо друг от друга</li>
    <li>Микросервисная архитектура обеспечивает автономность команд разработчиков</li>
    <li>Она позволяет эксперементировать и внедрять новые технологии</li>
    <li>В ней лучше изолированы неполадки</li>
</ul>

Недостатки микросервисной архитектуры:

<ul>
    <li>Сложность подобрать подходящий набор сервисов</li>
    <li>Сложность распределённых систем затрудняет разработку, тестирование и развёртывание</li>
    <li>Развёртывание функций, охватывающих несколько сервисов, требует тщательной координации</li>
    <li>Решение о том, когда следует переходить на микросервисную архитектуру, является нетривиальным</li>
</ul>



Ключевая идея микросервисной архитектуры - <b>функциональная</b> декомпозиция.



Программнаяа архитектура вычислительной системы — это набор структур, 
    необходимых для ее обсуждения и состоящих из программных элементов,
    связей между нимии свойств, присущих этим элементам и связям.


Декомпозиция важна, по след. причинам:

<ul>
    <li>Она способствует разделению труда и знаний, так как позволяет нескольким 
    людям или командам с потенциально узкоспециализированным знаниями продуктивно работать нвд одним приложением</li>
    <li>Она определяет как взаимодействуют между собой программные элементы</li>
</ul>

Процесс описания микросервисной архитектуры:

<img src="imgs/steps.png" alt="steps"></img>

Сервисы должны быть основаны на бизнес-концепциях, а не на технических аспектах.


Предметно-ориентированное проектирование (domain-driven design, DDD) - это способо построения сложных приложений, 
основанный на разработке объектно-ориентированной доменной (проблемной) модели.


Трудности при разбиении приложения на сервисы:

<ul>
    <li>Латентность сети</li>
    <li>Ухудшение доступности из-за синхронного взаимодействия</li>
    <li>Поддержание согласованности данных между сервисами</li>
    <li>Получение согласованного представления данных</li>
    <li>Божественные классы, препятствующие декомпозиции</li>
</ul>