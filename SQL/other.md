Транзакция - группа последовательных операций с базой данных,
которая представляет собой логическую единицу работы с данными.Транзакция может быть выполнена либо целиком и успешно, соблюдая целостность данных и независимо от параллельно идущих других транзакций, либо не выполнена вообще, и тогда она не должна произвести никакого эффекта.

В стандарте SQL описывается четыре уровня изоляции транзакций — 
<b>Read uncommited</b> (Чтение незафиксированных данных), <b>Read committed</b> (Чтение зафиксированных данных),
<b>Repeatable read</b> (Повторяемое чтение) и <b>Serializable</b> (Сериализуемость)


ACID - требования к  транзакционной системе (свойства транзакций)
<ul>
    <li>Atomicity — Атомарность</li>
    <li>Consistency — Согласованность</li>
    <li>Isolation — Изолированность</li>
    <li>Durability — Прочность</li>
</ul>


Атомарность -  гарантирует, что никакая транзакция не будет зафиксирована в системе частично. Будут либо выполнены все её подоперации, либо не выполнено ни одной. 

Согласованность - Транзакция, достигающая своего нормального завершения и тем самым фиксирующая свои результаты.
Согласованность является более широким понятием. Например, в банковской системе может существовать требование равенства суммы, списываемой с одного счёта, сумме, зачисляемой на другой. Это бизнес-правило и оно не может быть гарантировано только проверками целостности, его должны соблюсти программисты при написании кода транзакций. Если какая-либо транзакция произведёт списание, но не произведёт зачисления, то система останется в некорректном состоянии и свойство согласованности будет нарушено. 

Изолированность - Во время выполнения транзакции параллельные транзакции не должны оказывать влияния на её результат.

Прочность - Независимо от проблем на нижних уровнях (к примеру, обесточивание системы или сбои в оборудовании) изменения, сделанные успешно завершённой транзакцией, должны остаться сохранёнными после возвращения системы в работу.


Особые условия, недопустимые для различных уровней изоляции: 
<b>«грязное» чтение</b> - транзакция читает данные, записанные параллельной незавершённой транзакцией.
<b>неповторяемое чтение</b> - Транзакция повторно читает те же данные, что и раньше, и обнаруживает, что они были изменены другой транзакцией (которая завершилась после первого чтения).
<b>фантомное чтение</b> - Транзакция повторно выполняет запрос, возвращающий набор строк для некоторого условия, и обнаруживает, что набор строк, удовлетворяющих условию, изменился из-за транзакции, завершившейся за это время.
<b>аномалия сериализации</b> - Результат успешной фиксации группы транзакций оказывается несогласованным при всевозможных вариантах исполнения этих транзакций по очереди.


| Уровень изоляции | «Грязное» чтение | Неповторяемое чтение | Фантомное чтение | Аномалия сериализации |
| --- | --- | --- | --- | --- |
|Read uncommited (Чтение незафиксированных данных)|Допускается, но не в PG|Возможно|Возможно|Возможно|
|Read committed (Чтение зафиксированных данных)|Невозможно|Возможно|Возможно|Возможно|
|Repeatable read (Повторяемое чтение)|Невозможно|Невозможно|Допускается, но не в PG|Возможно|
|Serializable (Сериализуемость)|Невозможно|Невозможно|Невозможно|Невозможно|